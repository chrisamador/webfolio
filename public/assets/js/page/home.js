define(["jquery","utls"],function(t,e){return function(){function o(t,e,o){f.push(t),s.push(e),u.push(o)}function n(){c.strokeStyle="#737067",c.lineJoin="round",c.lineWidth=2;for(var t=0;t<f.length;t++)c.beginPath(),u[t]&&t?c.moveTo(f[t-1],s[t-1]):c.moveTo(f[t]-1,s[t]),c.lineTo(f[t],s[t]),c.closePath(),c.stroke();f.length>100&&(f=[],s=[],u=[])}function i(){c.clearRect(0,0,c.canvas.width,c.canvas.height)}var a,f=[],s=[],u=[],c=document.getElementById("canvas").getContext("2d"),d=document.getElementById("home-intro"),h=t(d),r=h.find(".home-canvas__button"),l=t(c.canvas);e(document.getElementById("arrow-down")).on("click",function(){e(document.body).animateScrollTop(h.offset().top)}),l.attr("height",h.outerHeight()+"px"),l.attr("width",h.width()+"px"),t(window).on("load resize",function(){l.attr("height",h.outerHeight()+"px"),l.attr("width",h.width()+"px")}),c.strokeStyle="#737067",c.lineJoin="round",c.lineWidth=2,l.on("mousedown",function(t){t.pageX-d.offsetLeft,t.pageY-d.offsetTop;a=!0,o(t.pageX-d.offsetLeft,t.pageY-d.offsetTop),n()}),l.on("mousemove",function(t){a&&(r.removeClass("hidden"),o(t.pageX-d.offsetLeft,t.pageY-d.offsetTop,!0),n())}),r.on("click",function(e){e.preventDefault(),i(),f=[],s=[],u=[],t(this).animate({opacity:0},500,function(){t(this).css("opacity",1).addClass("hidden")})}),l.on("mouseup mouseleave",function(t){a=!1})}});